(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/user"],{"0de7":function(e,t,n){},"7de6":function(e,t,n){"use strict";n.r(t);var o=n("bef5"),r=n.n(o);for(var u in o)"default"!==u&&function(e){n.d(t,e,function(){return o[e]})}(u);t["default"]=r.a},beba:function(e,t,n){"use strict";n.r(t);var o=n("d730"),r=n("7de6");for(var u in r)"default"!==u&&function(e){n.d(t,e,function(){return r[e]})}(u);n("fa4d");var a=n("2877"),i=Object(a["a"])(r["default"],o["a"],o["b"],!1,null,null,null);t["default"]=i.exports},bef5:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"user",data:function(){return{customTheme:"",modalName:null,authorityDialog:null,setting:{color:""},info:{mark:0,money:0,library:0,collections:"",amount:""},userInfo:{nickName:"",avatarUrl:"",userId:""},colorList:[{color:"montana",label:"墨蓝（默认）"},{color:"red",label:"魅红"},{color:"orange",label:"鎏金"},{color:"green",label:"翠柳"},{color:"blue",label:"靛青"},{color:"purple",label:"惑紫"},{color:"pink",label:"霞彩"},{color:"black",label:"墨黑"}]}},onLoad:function(){var e=this;this.customTheme=this.$store.getters.customTheme,this.$store.state.token&&this.$http({url:"/user/info"}).then(function(t){e.info=t,e.getUnreadNumber()}),this.userInfo=this.$store.state.userInfo},watch:{"$store.state.customTheme":function(e){this.customTheme=e},"$store.state.unreadNumber":function(e){this.info.unreadNumber=e}},methods:{confirmSetting:function(){e.setStorageSync("customTheme",this.setting.color),this.$store.commit("customTheme",e.getStorageSync("customTheme"))},RadioChange:function(e){this.setting.color=e.detail.value,console.log(this.setting.color," at pages\\index\\user.vue:267")},showModal:function(e){this.modalName=e.currentTarget.dataset.target},hideModal:function(e){this.modalName=null},hideAuthorityDialog:function(e){this.authorityDialog=null},signIn:function(){this.authorityDialog="DialogModal2"},cancelSignIn:function(){this.authorityDialog=null},getUnreadNumber:function(){var e=this;this.$http({url:"/message/unreadNumber"}).then(function(t){e.$set(e.info,"unreadNumber",t.sum),e.$store.commit("unreadNumber",t.sum),console.log(e.info," at pages\\index\\user.vue:291")})},authorize:function(){var t=this;e.login({provider:"weixin",success:function(n){e.getUserInfo({provider:"weixin",success:function(o){t.$http({url:"/user/login",method:"POST",data:{code:n.code,nickname:o.userInfo.nickName,avatar_url:o.userInfo.avatarUrl},loading:"none"}).then(function(n){t.$store.commit("userInfo",o.userInfo),t.$store.commit("token",n.token),t.$http({url:"/user/identity",loading:"none"}).then(function(t){t.username&&t.phone?e.reLaunch({url:"./user"}):e.reLaunch({url:"../component/form"})})})}})}})}}};t.default=n}).call(this,n("6e42")["default"])},d730:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},r=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r})},fa4d:function(e,t,n){"use strict";var o=n("0de7"),r=n.n(o);r.a}},[["9192","common/runtime","common/vendor"]]]);