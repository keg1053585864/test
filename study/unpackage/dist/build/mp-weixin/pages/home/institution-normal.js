(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/institution-normal"],{"603b":function(t,e,i){"use strict";i.r(e);var n=i("f54e"),r=i("7072");for(var o in r)"default"!==o&&function(t){i.d(e,t,function(){return r[t]})}(o);i("d6f8");var u=i("2877"),a=Object(u["a"])(r["default"],n["a"],n["b"],!1,null,"25be48c3",null);e["default"]=a.exports},7072:function(t,e,i){"use strict";i.r(e);var n=i("ae1b"),r=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=r.a},ae1b:function(t,e,i){"use strict";(function(t){var i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=1,r={data:function(){return{tabList:[{name:"机构详情",list:[]},{name:"课程信息",list:[]}],tabCurrentIndex:0,swiperCurrentIndex:0,clientHeight1:"",clientHeight2:"",customTheme:"",institution:{name:"",contact:"",phone:"",img_url:"",video_url:"",description:"",detail:"",location:""},itemList:[],institution_id:"",page:1}},onLoad:function(e){var i=this;this.institution_id=e.id,this.customTheme=this.$store.state.customTheme,this.getItemList(),this.$http({url:"/institution/"+this.institution_id,v3:!0}).then(function(e){e.detail=e.detail.replace(/\<img/gi,'<img style="width:100%;height:auto" '),e.video_url&&e.video_url.split("/page/")[1]?(e.video_url=e.video_url.split("/page/")[1].split(".html")[0],i.getVideoInfo(e.video_url)):e.video_url="",i.institution=e,t.getSystemInfo({success:function(t){i.clientHeight1=t.windowHeight}})})},methods:{scrolltoBottom:function(t){n&&(n=0,this.getItemList(),setTimeout(function(){n=1},1e3))},tabSelect:function(t){var e=t.currentTarget.dataset.id;this.swiperCurrentIndex=e,this.tabCurrentIndex=e},swiperChange:function(t){var e=t.detail.current;this.tabCurrentIndex=e,this.swiperCurrentIndex=e},itemJump:function(e,i){t.navigateTo({url:"../home/item?id="+e.item_id})},getItemList:function(){var t=this;this.$http({url:"/institution/"+this.institution_id+"/items/"+this.page,v3:!0}).then(function(e){var i=!0,n=!1,r=void 0;try{for(var o,u=e[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var a=o.value;t.itemList.push(a)}}catch(s){n=!0,r=s}finally{try{i||null==u.return||u.return()}finally{if(n)throw r}}t.page+=1})},getVideoInfo:function(t){var e=this,n="https://vv.video.qq.com/getinfo?otype=json&appver=3.2.19.333&platform=11&defnpayver=1&vid="+t;wx.request({url:n,success:function(n){console.log(n);var r=n.data.replace(/QZOutputJson=/,"")+"qwe",o=r.replace(/;qwe/,""),u=JSON.parse(o),a=u.vl.vi[0].lnk;i=u["vl"]["vi"][0]["ul"]["ui"][0]["url"];var s=u["fl"]["fi"],l=u["vl"]["vi"][0]["cl"]["fc"];if(0==parseInt(l)&&(l=1),s.length>2)for(var c=s[s.length-1]["id"],d=1;d<l+1;d++){var f=a+".p"+c%1e4+"."+d+".mp4";e.requestVideoUrls(c,t,f)}else for(var v=s[s.length-1]["id"],h=1;h<l+1;h++){var p=a+".mp4";e.requestVideoUrls(v,t,p)}}})},requestVideoUrls:function(t,e,n){var r="https://vv.video.qq.com/getkey?otype=json&platform=11&format="+t+"&vid="+e+"&filename="+n+"&appver=3.2.19.333",o=this;wx.request({url:r,success:function(t){var e=t.data.replace(/QZOutputJson=/,"")+"qwe",r=e.replace(/;qwe/,""),u=JSON.parse(r);if(void 0!=u.key){var a=u["key"],s=i+n+"?vkey="+a;console.log(String(s),i),o.institution.video_url=String(s)}}})}}};e.default=r}).call(this,i("543d")["default"])},b6e9:function(t,e,i){"use strict";(function(t){i("1f93"),i("921b");n(i("66fd"));var e=n(i("603b"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},d6f8:function(t,e,i){"use strict";var n=i("f495"),r=i.n(n);r.a},f495:function(t,e,i){},f54e:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},r=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r})}},[["b6e9","common/runtime","common/vendor"]]]);