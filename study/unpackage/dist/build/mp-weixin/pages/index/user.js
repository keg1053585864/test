(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/user"],{"3b7c":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"user",data:function(){return{customTheme:"",modalName:null,authorityDialog:null,setting:{color:""},info:{mark:0,money:0,library:0,collections:"",amount:""},userInfo:{nickName:"",avatarUrl:"",userId:""},colorList:[{color:"blue",label:"靛青（默认）"},{color:"red",label:"魅红"},{color:"orange",label:"鎏金"},{color:"montana",label:"墨蓝"},{color:"green",label:"翠柳"},{color:"purple",label:"惑紫"},{color:"pink",label:"霞彩"},{color:"black",label:"墨黑"}]}},onShow:function(){this.getUnreadNumber()},onLoad:function(){var t=this;this.customTheme=this.$store.getters.customTheme,this.$store.state.token&&this.$http({url:"/user/info"}).then(function(e){t.info=e}),this.userInfo=this.$store.state.userInfo},watch:{"$store.state.customTheme":function(t){this.customTheme=t}},methods:{confirmSetting:function(){t.setStorageSync("customTheme",this.setting.color),this.$store.commit("customTheme",t.getStorageSync("customTheme"))},RadioChange:function(t){this.setting.color=t.detail.value,console.log(this.setting.color)},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},hideAuthorityDialog:function(t){this.authorityDialog=null},signIn:function(){this.authorityDialog="DialogModal2"},cancelSignIn:function(){this.authorityDialog=null},getUnreadNumber:function(){var t=this;this.$http({url:"/message/unreadNumber",alert:"none",loading:"none"}).then(function(e){t.$set(t.info,"unreadNumber",e.sum),t.$store.commit("unreadNumber",e.sum)})},authorize:function(){var e=this;t.login({provider:"weixin",success:function(n){t.getUserInfo({provider:"weixin",success:function(o){e.$http({url:"/user/login",method:"POST",data:{code:n.code,nickname:o.userInfo.nickName,avatar_url:o.userInfo.avatarUrl},loading:"none"}).then(function(n){e.$store.commit("userInfo",o.userInfo),e.$store.commit("token",n.token),e.$http({url:"/user/identity",loading:"none"}).then(function(e){e.username&&e.phone?t.reLaunch({url:"./user"}):t.reLaunch({url:"../component/form"})})})}})}})}}};e.default=n}).call(this,n("543d")["default"])},"7de6":function(t,e,n){"use strict";n.r(e);var o=n("3b7c"),r=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,function(){return o[t]})}(u);e["default"]=r.a},9192:function(t,e,n){"use strict";(function(t){n("1f93"),n("921b");o(n("66fd"));var e=o(n("beba"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},beba:function(t,e,n){"use strict";n.r(e);var o=n("fbd4"),r=n("7de6");for(var u in r)"default"!==u&&function(t){n.d(e,t,function(){return r[t]})}(u);n("fa4d");var a=n("2877"),i=Object(a["a"])(r["default"],o["a"],o["b"],!1,null,null,null);e["default"]=i.exports},ed3e:function(t,e,n){},fa4d:function(t,e,n){"use strict";var o=n("ed3e"),r=n.n(o);r.a},fbd4:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r})}},[["9192","common/runtime","common/vendor"]]]);