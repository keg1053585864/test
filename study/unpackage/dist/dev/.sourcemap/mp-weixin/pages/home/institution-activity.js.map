{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/zzwc-study-master/study/main.js","webpack:///C:/Users/Administrator/Desktop/zzwc-study-master/study/pages/home/institution-activity.vue?fcf5","webpack:///C:/Users/Administrator/Desktop/zzwc-study-master/study/pages/home/institution-activity.vue?189c","webpack:///C:/Users/Administrator/Desktop/zzwc-study-master/study/pages/home/institution-activity.vue?da38","webpack:///C:/Users/Administrator/Desktop/zzwc-study-master/study/pages/home/institution-activity.vue?8bc6","webpack:///C:/Users/Administrator/Desktop/zzwc-study-master/study/pages/home/institution-activity.vue"],"names":["createPage","Page","host","data","customTheme","institution","name","contact","phone","img_url","video_url","description","detail","location","itemList","institution_id","onLoad","e","id","$store","state","$http","url","v2","then","res","replace","split","getVideoInfo","getItemList","methods","loading","vid","that","urlString","wx","request","success","console","log","dataJson","dataJson1","JSON","parse","fn_pre","vl","vi","lnk","streams","seg_cnt","parseInt","length","part_format_id","i","filename","requestVideoUrls","fileName","keyApi","key","undefined","vkey","String"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,wH;AACAA,UAAU,CAACC,4BAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAmG;AAC3B;AACL;;;AAGnE;AACuI;AACvI,gBAAgB,oJAAU;AAC1B,EAAE,0FAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAkxB,CAAgB,6xBAAG,EAAC,C;;;;;;;;;;;;wFCAtyB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,IAAJ,C;AACe;AACdC,MADc,kBACP;AACN,WAAO;AACNC,iBAAW,EAAE,EADP;AAENC,iBAAW,EAAE;AACZC,YAAI,EAAE,EADM;AAEZC,eAAO,EAAE,EAFG;AAGZC,aAAK,EAAE,EAHK;AAIZC,eAAO,EAAE,EAJG;AAKZC,iBAAS,EAAE,EALC;AAMZC,mBAAW,EAAE,EAND;AAOZC,cAAM,EAAE,EAPI;AAQZC,gBAAQ,EAAE,EARE,EAFP;;AAYNC,cAAQ,EAAE,EAZJ;AAaNC,oBAAc,EAAE,EAbV,EAAP;;AAeA,GAjBa;AAkBdC,QAlBc,kBAkBPC,CAlBO,EAkBJ;AACT,SAAKF,cAAL,GAAsBE,CAAC,CAACC,EAAxB;AACA,SAAKd,WAAL,GAAmB,KAAKe,MAAL,CAAYC,KAAZ,CAAkBhB,WAArC;;AAEA,SAAKiB,KAAL,CAAW;AACVC,SAAG,EAAE,2BAA2B,KAAKP,cAD3B;AAEVQ,QAAE,EAAE,IAFM,EAAX;AAGGC,QAHH,CAGQ,UAAAC,GAAG,EAAI;AACdA,SAAG,CAACb,MAAJ,GAAaa,GAAG,CAACb,MAAJ,CAAWc,OAAX,CAAmB,SAAnB,EAA8B,sCAA9B,CAAb;AACA,UAAID,GAAG,CAACf,SAAJ,IAAgBe,GAAG,CAACf,SAAJ,CAAciB,KAAd,CAAoB,QAApB,EAA8B,CAA9B,CAApB,EAAuD;AACtDF,WAAG,CAACf,SAAJ,GAAiBe,GAAG,CAACf,SAAJ,CAAciB,KAAd,CAAoB,QAApB,EAA8B,CAA9B,CAAD,CAAmCA,KAAnC,CAAyC,OAAzC,EAAkD,CAAlD,CAAhB;AACA,aAAI,CAACC,YAAL,CAAkBH,GAAG,CAACf,SAAtB;AACA,OAHD,MAGK;AACJe,WAAG,CAACf,SAAJ,GAAgB,EAAhB;AACA;AACD,WAAI,CAACL,WAAL,GAAmBoB,GAAnB;AACA,KAZD;AAaA,SAAKI,WAAL,CAAiB,KAAKd,cAAtB;AACA,GApCa;AAqCde,SAAO,EAAE;AACRD,eADQ,uBACIZ,CADJ,EACO;AACd,WAAKI,KAAL,CAAW;AACVC,WAAG,kCAA2BL,CAA3B,WADO;AAEVM,UAAE,EAAE,IAFM;AAGVQ,eAAO,EAAE,MAHC,EAAX;AAIGP,UAJH,CAIQ,UAAAC,GAAG,EAAI;AACd,cAAI,CAACX,QAAL,GAAgBW,GAAhB;AACA,OAND;AAOA,KATO;AAURG,gBAVQ,wBAUKI,GAVL,EAUU;AACjB,UAAIC,IAAI,GAAG,IAAX;AACA,UAAIC,SAAS,GAAG,+FAA+FF,GAA/G;AACAG,QAAE,CAACC,OAAH,CAAW;AACVd,WAAG,EAAEY,SADK;AAEVG,eAAO,EAAE,iBAASZ,GAAT,EAAc;AACtBa,iBAAO,CAACC,GAAR,CAAYd,GAAZ;AACA,cAAIe,QAAQ,GAAGf,GAAG,CAACtB,IAAJ,CAASuB,OAAT,CAAiB,eAAjB,EAAkC,EAAlC,IAAwC,KAAvD;AACA,cAAIe,SAAS,GAAGD,QAAQ,CAACd,OAAT,CAAiB,MAAjB,EAAyB,EAAzB,CAAhB;AACA,cAAIvB,IAAI,GAAGuC,IAAI,CAACC,KAAL,CAAWF,SAAX,CAAX;AACA,cAAIG,MAAM,GAAGzC,IAAI,CAAC0C,EAAL,CAAQC,EAAR,CAAW,CAAX,EAAcC,GAA3B;AACA7C,cAAI,GAAGC,IAAI,CAAC,IAAD,CAAJ,CAAW,IAAX,EAAiB,CAAjB,EAAoB,IAApB,EAA0B,IAA1B,EAAgC,CAAhC,EAAmC,KAAnC,CAAP;AACA,cAAI6C,OAAO,GAAG7C,IAAI,CAAC,IAAD,CAAJ,CAAW,IAAX,CAAd;AACA,cAAI8C,OAAO,GAAG9C,IAAI,CAAC,IAAD,CAAJ,CAAW,IAAX,EAAiB,CAAjB,EAAoB,IAApB,EAA0B,IAA1B,CAAd;AACA,cAAI+C,QAAQ,CAACD,OAAD,CAAR,IAAqB,CAAzB,EAA4B;AAC3BA,mBAAO,GAAG,CAAV;AACA;AACD,cAAID,OAAO,CAACG,MAAR,GAAiB,CAArB,EAAwB;AACvB,gBAAIC,cAAc,GAAGJ,OAAO,CAACA,OAAO,CAACG,MAAR,GAAiB,CAAlB,CAAP,CAA4B,IAA5B,CAArB;AACA,iBAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAIJ,OAAO,GAAG,CAA/B,EAAmCI,CAAC,EAApC,EAAwC;AACvC,kBAAIC,QAAQ,GAAGV,MAAM,GAAG,IAAT,GAAiBQ,cAAc,GAAG,KAAlC,GAA2C,GAA3C,GAAiDC,CAAjD,GAAqD,MAApE;AACApB,kBAAI,CAACsB,gBAAL,CAAsBH,cAAtB,EAAsCpB,GAAtC,EAA2CsB,QAA3C;AACA;AACD,WAND,MAMO;AACN,gBAAIF,eAAc,GAAGJ,OAAO,CAACA,OAAO,CAACG,MAAR,GAAiB,CAAlB,CAAP,CAA4B,IAA5B,CAArB;AACA,iBAAK,IAAIE,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAIJ,OAAO,GAAG,CAA/B,EAAmCI,EAAC,EAApC,EAAwC;AACvC,kBAAIC,SAAQ,GAAGV,MAAM,GAAG,MAAxB;AACAX,kBAAI,CAACsB,gBAAL,CAAsBH,eAAtB,EAAsCpB,GAAtC,EAA2CsB,SAA3C;AACA;AACD;AACD,SA3BS,EAAX;;AA6BA,KA1CO;AA2CRC,oBAAgB,EAAE,0BAASH,cAAT,EAAyBpB,GAAzB,EAA8BwB,QAA9B,EAAwC;AACzD,UAAIC,MAAM,GAAG,kEAAkEL,cAAlE,GAAmF,OAAnF,GAA6FpB,GAA7F;AACZ,kBADY,GACGwB,QADH,GACc,oBAD3B;AAEA,UAAIvB,IAAI,GAAG,IAAX;AACAE,QAAE,CAACC,OAAH,CAAW;AACVd,WAAG,EAAEmC,MADK;AAEVpB,eAAO,EAAE,iBAASZ,GAAT,EAAc;AACtB,cAAIe,QAAQ,GAAGf,GAAG,CAACtB,IAAJ,CAASuB,OAAT,CAAiB,eAAjB,EAAkC,EAAlC,IAAwC,KAAvD;AACA,cAAIe,SAAS,GAAGD,QAAQ,CAACd,OAAT,CAAiB,MAAjB,EAAyB,EAAzB,CAAhB;AACA,cAAIvB,IAAI,GAAGuC,IAAI,CAACC,KAAL,CAAWF,SAAX,CAAX;AACA,cAAItC,IAAI,CAACuD,GAAL,IAAYC,SAAhB,EAA2B;AAC1B,gBAAIC,IAAI,GAAGzD,IAAI,CAAC,KAAD,CAAf;AACA,gBAAImB,GAAG,GAAGpB,IAAI,GAAGsD,QAAP,GAAkB,QAAlB,GAA6BI,IAAvC;AACAtB,mBAAO,CAACC,GAAR,CAAYsB,MAAM,CAACvC,GAAD,CAAlB,EAAyBpB,IAAzB;AACA+B,gBAAI,CAAC5B,WAAL,CAAiBK,SAAjB,GAA6BmD,MAAM,CAACvC,GAAD,CAAnC;AACA;AACD,SAZS,EAAX;;AAcA,KA7DO,EArCK,E","file":"pages/home/institution-activity.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/home/institution-activity.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./institution-activity.vue?vue&type=template&id=5391b356&\"\nimport script from \"./institution-activity.vue?vue&type=script&lang=js&\"\nexport * from \"./institution-activity.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5391b356', component.options)\n    } else {\n      api.reload('5391b356', component.options)\n    }\n    module.hot.accept(\"./institution-activity.vue?vue&type=template&id=5391b356&\", function () {\n      api.rerender('5391b356', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/zzwc-study-master/study/pages/home/institution-activity.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./institution-activity.vue?vue&type=template&id=5391b356&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./institution-activity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./institution-activity.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nlet host\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcustomTheme: '',\n\t\t\tinstitution: {\n\t\t\t\tname: '',\n\t\t\t\tcontact: '',\n\t\t\t\tphone: '',\n\t\t\t\timg_url: '',\n\t\t\t\tvideo_url: '',\n\t\t\t\tdescription: '',\n\t\t\t\tdetail: '',\n\t\t\t\tlocation: ''\n\t\t\t},\n\t\t\titemList: '',\n\t\t\tinstitution_id: ''\n\t\t}\n\t},\n\tonLoad(e) {\n\t\tthis.institution_id = e.id\n\t\tthis.customTheme = this.$store.state.customTheme\n\t\t\n\t\tthis.$http({\n\t\t\turl: '/activity_institution/' + this.institution_id,\n\t\t\tv2: true\n\t\t}).then(res => {\n\t\t\tres.detail = res.detail.replace(/\\<img/gi, '<img style=\"width:100%;height:auto\" ')\n\t\t\tif (res.video_url&&(res.video_url.split('/page/')[1])) {\n\t\t\t\tres.video_url = (res.video_url.split('/page/')[1]).split('.html')[0]\n\t\t\t\tthis.getVideoInfo(res.video_url)\n\t\t\t}else{\n\t\t\t\tres.video_url = ''\n\t\t\t}\n\t\t\tthis.institution = res\n\t\t})\n\t\tthis.getItemList(this.institution_id)\n\t},\n\tmethods: {\n\t\tgetItemList(e) {\n\t\t\tthis.$http({\n\t\t\t\turl: `/activity_institution/${e}/items`,\n\t\t\t\tv2: true,\n\t\t\t\tloading: 'none'\n\t\t\t}).then(res => {\n\t\t\t\tthis.itemList = res\n\t\t\t})\n\t\t},\n\t\tgetVideoInfo(vid) {\n\t\t\tlet that = this;\n\t\t\tlet urlString = 'https://vv.video.qq.com/getinfo?otype=json&appver=3.2.19.333&platform=11&defnpayver=1&vid=' + vid;\n\t\t\twx.request({\n\t\t\t\turl: urlString,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tlet dataJson = res.data.replace(/QZOutputJson=/, '') + \"qwe\";\n\t\t\t\t\tlet dataJson1 = dataJson.replace(/;qwe/, '');\n\t\t\t\t\tlet data = JSON.parse(dataJson1);\n\t\t\t\t\tlet fn_pre = data.vl.vi[0].lnk\n\t\t\t\t\thost = data['vl']['vi'][0]['ul']['ui'][0]['url']\n\t\t\t\t\tlet streams = data['fl']['fi']\n\t\t\t\t\tlet seg_cnt = data['vl']['vi'][0]['cl']['fc']\n\t\t\t\t\tif (parseInt(seg_cnt) == 0) {\n\t\t\t\t\t\tseg_cnt = 1\n\t\t\t\t\t}\n\t\t\t\t\tif (streams.length > 2) {\n\t\t\t\t\t\tlet part_format_id = streams[streams.length - 1]['id'];\n\t\t\t\t\t\tfor (let i = 1; i < (seg_cnt + 1); i++) {\n\t\t\t\t\t\t\tlet filename = fn_pre + '.p' + (part_format_id % 10000) + '.' + i + '.mp4';\n\t\t\t\t\t\t\tthat.requestVideoUrls(part_format_id, vid, filename);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet part_format_id = streams[streams.length - 1]['id'];\n\t\t\t\t\t\tfor (let i = 1; i < (seg_cnt + 1); i++) {\n\t\t\t\t\t\t\tlet filename = fn_pre + '.mp4';\n\t\t\t\t\t\t\tthat.requestVideoUrls(part_format_id, vid, filename);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\trequestVideoUrls: function(part_format_id, vid, fileName) {\n\t\t\tlet keyApi = \"https://vv.video.qq.com/getkey?otype=json&platform=11&format=\" + part_format_id + \"&vid=\" + vid +\n\t\t\t\t\"&filename=\" + fileName + \"&appver=3.2.19.333\"\n\t\t\tlet that = this;\n\t\t\twx.request({\n\t\t\t\turl: keyApi,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tlet dataJson = res.data.replace(/QZOutputJson=/, '') + \"qwe\";\n\t\t\t\t\tlet dataJson1 = dataJson.replace(/;qwe/, '');\n\t\t\t\t\tlet data = JSON.parse(dataJson1);\n\t\t\t\t\tif (data.key != undefined) {\n\t\t\t\t\t\tlet vkey = data['key']\n\t\t\t\t\t\tlet url = host + fileName + '?vkey=' + vkey;\n\t\t\t\t\t\tconsole.log(String(url), host)\n\t\t\t\t\t\tthat.institution.video_url = String(url)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t}\n}\n"],"sourceRoot":""}